CREATE DATABASE IF NOT EXISTS CAMAGRU DEFAULT CHARACTER SET utf8;

USE CAMAGRU;

CREATE TABLE IF NOT EXISTS Users (
		id smallint(5) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
		username VARCHAR(15) NOT NULL,
		mail VARCHAR(30) NOT NULL,
		password VARCHAR(150) NOT NULL
);

CREATE TABLE IF NOT EXISTS Images(
		id smallint(5) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
		name VARCHAR(15) NOT NULL,
		username VARCHAR(50) NOT NULL,
		type VARCHAR(25) NOT NULL,
		descrip text NOT NULL,
		img_blob longblob NOT NULL
);

CREATE TABLE IF NOT EXISTS Commentary (
		id smallint (5) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
		username VARCHAR(50) NOT NULL,
		contents VARCHAR(250) NOT NULL,
		date DATETIME
);
CREATE TABLE IF NOT EXISTS Likes (
		id smallint (5) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
		UserID smallint (5) NOT NULL,
		ImageID smallint (5) NOT NULL
	);